(self.webpackChunkgamestore=self.webpackChunkgamestore||[]).push([[258],{7252:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(3433),s=a(9439),n=a(2791),i=a(5095),c=a.n(i),o=a(2808),u=a.n(o),l=a(7689),d=a(2244),g="ErrorMessage_errorMassege__DkmlH",m=a(184),f=(0,n.memo)((function(e){var t=e.error;return(0,m.jsxs)("div",{className:g,children:["\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ",t]})})),h=a(6891),S="Search_wrapper__search__gZjwd",v="Search_search_image__Y3oC4",_="Search_input_search__5bEZE",p=(0,n.memo)((function(e){var t=e.value,a=e.onChangeSerachInput,r=e.setValue;return(0,m.jsxs)("div",{className:S,children:[(0,m.jsx)("img",{className:v,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACR0lEQVR4Ae3BTWiWBQAH8J+zHRyxxYrWBx1WxHAURXSQ8DnkuwgKL+HRoksYQZZIrSaCfVBegshDZHUo8BAVROQlurjAQ8EUXBSUkCV9oMvo2eNi77Z/Jy9S7/s+T76n+v38Rwy52vVGXHKjHvKhH0REnDNr2oRLYsL72iLiJ/PmfG9ZRBy31b8y4nVtseAdDxh2waC77PeNiFm3aegmX4lF+w37e1NOiCXbNVBYEJ8Z08mg56xZs1dNNzoj3jCou20WxQ41DJsXr+nVPdqW3a1nb4pPXaZ3O8WPNujJpBW/u0o9h8UzevKReFZdt1pxzqiuxqz61ZD63hVP6uoRcVAThTiqq0/E/ZoY8Ju2YV2csWKDZg6LzTq6QpzU1CviYR2Niy80NSN26ehmcVRTT4mndXStmNfUC+JRHa23ZNE6zRwS9+liTtyima/FuC5eFHs0cYM4pas7xZeamBYHdLXOSTGlrsv9bM0devCgOG5APfvEB3oy4JjYqY5JpbYJPdpsWduUXl3pO/GSGnaIBZv0YtTn4oj1anlVLNmum42+FWed11LTtFVxyLh/MmTGH+KUiEpLTVudFX864HYXu8Yup8WKt1UiorJFTSNedl7Eae953hMes8dbjlkV8bFJFEoRUWmp7Tp7nRARERHxi4M2uaBQiohKSyNj7vW4Gfvsts1GFyuUIqLS0heFUkRUWvqiUIqISktfFEoRUWnpi0IpIiotfVEoRUSlpS8KpYiotPTFFpWIOKJPCqWYM6pvCrNG/a9XfwHlfPtHDANTlgAAAABJRU5ErkJggg==",alt:"search"}),(0,m.jsx)("input",{className:_,type:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b",value:t,onChange:function(e){a(e.target.value),r(e.target.value)}})]})})),C=a(3313),x="SearchCategory_janres__gWjk-",j="SearchCategory_visibleChengeCategory__z5nTk",N="SearchCategory_icon__TU5Xl",y="SearchCategory_displayListOn__-9SmO",A="SearchCategory_displayListOff__U4dlt",Z=(0,n.memo)((function(e){var t=e.category,a=e.selectListItem,r=e.visibleList,s=e.setVisibleList,n=e.onChangeCategory;return(0,m.jsx)("div",{children:(0,m.jsxs)("ul",{onClick:function(){return s(!r)},className:x,children:[r?(0,m.jsx)("div",{className:N,children:(0,m.jsx)(C.rH8,{size:20})}):(0,m.jsx)("div",{className:N,children:(0,m.jsx)(C.bTu,{size:20})}),0!==a&&!a&&(0,m.jsx)("div",{className:j,children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),t[a],t.map((function(e,t){return(0,m.jsx)("li",{onClick:function(){return n(t)},className:r?y:A,value:t,children:e},e)}))]})})})),L=Z,R="Sort_sortItemListOn__nHbiO",V="Sort_sortItemListOff__56Y3R",k=n.memo((function(e){var t=e.sortListSelect,a=e.sortList,r=e.sortListView,s=e.onClickSelectSortValue;return(0,m.jsxs)("div",{children:["\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e: ",(0,m.jsx)("p",{children:a[t].name}),a.map((function(e,t){return(0,m.jsx)("div",{onClick:function(){return s(t)},className:r?R:V,children:e.name},t)}))]})})),E=k,T=a(3643),b="Catalog_conteiner__catalog__zPt3T",P="Catalog_sortList__VON1a",U="Catalog_conteiner__catalog_game__NIvAw",H=a(9434),z=a(7897),J=a(4735),W=(a(3369),"PaginationPage_paginated__5VsTD"),Y=function(e){var t=e.currentPage,a=e.setCurrentPage,r=e.pageSize,s=e.setPageSize;return(0,m.jsx)("div",{className:W,children:(0,m.jsx)(J.Z,{current:t,size:"small",defaultPageSize:r,total:6,showQuickJumper:!0,onChange:function(e,t){a(e),s(t)},style:{marginTop:"20px",marginBottom:"20px"}})})},B=["\u0412\u0441\u0435","\u042d\u043a\u0448\u0435\u043d","\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438","\u0420\u041f\u0413","\u0413\u043e\u043d\u043a\u0438","\u0421\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440","\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043c\u0438\u0440","\u0428\u0443\u0442\u0435\u0440","\u0412\u043e\u0439\u043d\u0430","\u0413\u043b\u0443\u0431\u043e\u043a\u0438\u0439 \u0441\u044e\u0436\u0435\u0442","\u041f\u0440\u043e\u0442\u0430\u0433\u043e\u043d\u0438\u0441\u0442\u043a\u0430"],I=[{name:"\u0446\u0435\u043d\u0430 \u043c\u0435\u043d\u044c\u0448\u0435",order:"price&order=asc"},{name:"\u0446\u0435\u043d\u0430 \u0431\u043e\u043b\u044c\u0448\u0435",order:"price&order=desc"},{name:"\u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",order:"title"},{name:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",order:"year&order=desc"}],w=function(){var e=(0,n.useState)([]),t=(0,s.Z)(e,2),a=t[0],i=t[1],o=(0,n.useState)(!0),g=(0,s.Z)(o,2),S=g[0],v=g[1],_=(0,n.useState)(!1),C=(0,s.Z)(_,2),x=C[0],j=C[1],N=(0,n.useState)(0),y=(0,s.Z)(N,2),A=y[0],Z=y[1],R=(0,n.useState)(""),V=(0,s.Z)(R,2),k=V[0],J=V[1],W=(0,n.useState)(null),w=(0,s.Z)(W,2),O=w[0],F=w[1],X=(0,n.useState)(!1),D=(0,s.Z)(X,2),q=D[0],G=D[1],K=(0,n.useState)(0),Q=(0,s.Z)(K,2),M=Q[0],$=Q[1],ee=(0,n.useState)(0),te=(0,s.Z)(ee,2),ae=te[0],re=te[1],se=(0,n.useState)(""),ne=(0,s.Z)(se,2),ie=ne[0],ce=ne[1],oe=(0,n.useState)(""),ue=(0,s.Z)(oe,2),le=ue[0],de=ue[1],ge=(0,l.s0)(),me=(0,n.useRef)(null),fe=(0,n.useRef)(null),he=(0,H.v9)(z.g_),Se=(0,H.v9)(z.iH),ve=n.useRef(!1),_e=(0,n.useState)(1),pe=(0,s.Z)(_e,2),Ce=pe[0],xe=pe[1],je=(0,n.useState)(3),Ne=(0,s.Z)(je,2),ye=Ne[0],Ae=Ne[1];n.useEffect((function(){if(ve.current){var e=JSON.stringify(he),t=JSON.stringify(Se);localStorage.setItem("cart",e),localStorage.setItem("cartTotalPrice",t)}ve.current=!0}),[he,Se]),(0,n.useEffect)((function(){var e=function(e){var t=e;me.current&&!t.path.includes(me.current)&&G(!1),fe.current&&!t.path.includes(fe.current)&&j(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]),(0,n.useEffect)((function(){T.Z.get("".concat(ie?"?title=".concat(ie):A?"?search=".concat(O,"&sortBy=").concat(ae||"price&order=asc"):"?page=".concat(Ce,"&limit=").concat(ye,"&sortBy=").concat(ae||"price&order=asc"))).then((function(e){i(e.data),v(!1)})).catch((function(e){J(e.message)}))}),[A,O,ae,ie,Ce,ye,ge]),(0,n.useEffect)((function(){var e=u().stringify({selectListItem:A,selectCategory:O,selectSort:ae,search:ie,currentPage:Ce});ge("?".concat(e))}),[A,O,ae,ie,Ce,ge]);var Ze=(0,n.useCallback)((function(e){v(!0),Z(e),F(B[e]),J("")}),[]),Le=(0,n.useCallback)((function(e){v(!0),$(e),re(I[e].order),J("")}),[]),Re=(0,n.useCallback)(c()((function(e){de(e),ce(e)}),250),[]);return(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("div",{ref:fe,children:(0,m.jsx)(L,{category:B,selectListItem:A,visibleList:x,setVisibleList:j,onChangeCategory:Ze})}),(0,m.jsx)("div",{children:(0,m.jsx)(p,{value:le,setValue:de,onChangeSerachInput:Re})}),(0,m.jsx)("div",{ref:me,className:P,onClick:function(){return G(!q)},children:(0,m.jsx)(E,{sortListSelect:M,sortList:I,sortListView:q,onClickSelectSortValue:Le})}),k?(0,m.jsx)(f,{error:k}):"",(0,m.jsx)("div",{className:U,children:S?(0,r.Z)(new Array(6)).map((function(e,t){return(0,m.jsx)(d.Z,{},t)})):a&&a.map((function(e){return(0,m.jsx)(h.Z,{game:e},e.id)}))}),(0,m.jsx)(Y,{currentPage:Ce,setCurrentPage:xe,pageSize:ye,setPageSize:Ae})]})}},4654:function(){}}]);
//# sourceMappingURL=258.854130bb.chunk.js.map