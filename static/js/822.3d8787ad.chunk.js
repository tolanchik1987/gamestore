(self.webpackChunkgamestore=self.webpackChunkgamestore||[]).push([[822],{7198:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var a=r(2982),s=r(885),n=r(2791),c=r(5095),i=r.n(c),o=r(2808),u=r.n(o),l=r(7689),d=r(4166),m="ErrorMessage_errorMassege__DkmlH",f=r(184),h=(0,n.memo)((function(e){var t=e.error;return(0,f.jsxs)("div",{className:m,children:["\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ",t]})})),g=r(3696),v="Search_wrapper__search__gZjwd",_="Search_search_image__Y3oC4",S="Search_input_search__5bEZE",C=(0,n.memo)((function(e){var t=e.value,r=e.onChangeSerachInput,a=e.setValue;return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("img",{className:_,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACR0lEQVR4Ae3BTWiWBQAH8J+zHRyxxYrWBx1WxHAURXSQ8DnkuwgKL+HRoksYQZZIrSaCfVBegshDZHUo8BAVROQlurjAQ8EUXBSUkCV9oMvo2eNi77Z/Jy9S7/s+T76n+v38Rwy52vVGXHKjHvKhH0REnDNr2oRLYsL72iLiJ/PmfG9ZRBy31b8y4nVtseAdDxh2waC77PeNiFm3aegmX4lF+w37e1NOiCXbNVBYEJ8Z08mg56xZs1dNNzoj3jCou20WxQ41DJsXr+nVPdqW3a1nb4pPXaZ3O8WPNujJpBW/u0o9h8UzevKReFZdt1pxzqiuxqz61ZD63hVP6uoRcVAThTiqq0/E/ZoY8Ju2YV2csWKDZg6LzTq6QpzU1CviYR2Niy80NSN26ehmcVRTT4mndXStmNfUC+JRHa23ZNE6zRwS9+liTtyima/FuC5eFHs0cYM4pas7xZeamBYHdLXOSTGlrsv9bM0devCgOG5APfvEB3oy4JjYqY5JpbYJPdpsWduUXl3pO/GSGnaIBZv0YtTn4oj1anlVLNmum42+FWed11LTtFVxyLh/MmTGH+KUiEpLTVudFX864HYXu8Yup8WKt1UiorJFTSNedl7Eae953hMes8dbjlkV8bFJFEoRUWmp7Tp7nRARERHxi4M2uaBQiohKSyNj7vW4Gfvsts1GFyuUIqLS0heFUkRUWvqiUIqISktfFEoRUWnpi0IpIiotfVEoRUSlpS8KpYiotPTFFpWIOKJPCqWYM6pvCrNG/a9XfwHlfPtHDANTlgAAAABJRU5ErkJggg==",alt:"search"}),(0,f.jsx)("input",{className:S,type:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b",value:t,onChange:function(e){r(e.target.value),a(e.target.value)}})]})})),p=r(3313),j="SearchCategory_janres__gWjk-",x="SearchCategory_visibleChengeCategory__z5nTk",N="SearchCategory_icon__TU5Xl",A="SearchCategory_displayListOn__-9SmO",y="SearchCategory_displayListOff__U4dlt",Z=(0,n.memo)((function(e){var t=e.category,r=e.selectListItem,a=e.visibleList,s=e.setVisibleList,n=e.onChangeCategory;return(0,f.jsx)("div",{children:(0,f.jsxs)("ul",{onClick:function(){return s(!a)},className:j,children:[a?(0,f.jsx)("div",{className:N,children:(0,f.jsx)(p.rH8,{size:20})}):(0,f.jsx)("div",{className:N,children:(0,f.jsx)(p.bTu,{size:20})}),0!==r&&!r&&(0,f.jsx)("div",{className:x,children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),t[r],t.map((function(e,t){return(0,f.jsx)("li",{onClick:function(){return n(t)},className:a?A:y,value:t,children:e},e)}))]})})})),L=Z,R="Sort_sortItemListOn__nHbiO",V="Sort_sortItemListOff__56Y3R",k=n.memo((function(e){var t=e.sortListSelect,r=e.sortList,a=e.sortListView,s=e.onClickSelectSortValue;return(0,f.jsxs)("div",{children:["\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e: ",(0,f.jsx)("p",{children:r[t].name}),r.map((function(e,t){return(0,f.jsx)("div",{onClick:function(){return s(t)},className:a?R:V,children:e.name},t)}))]})})),E=k,b=r(3643),T="Catalog_conteiner__catalog__zPt3T",U="Catalog_sortList__VON1a",H="Catalog_conteiner__catalog_game__NIvAw",W=r(9434),Y=r(5618),I=["\u0412\u0441\u0435","\u042d\u043a\u0448\u0435\u043d","\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438","\u0420\u041f\u0413","\u0413\u043e\u043d\u043a\u0438","\u0421\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440","\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043c\u0438\u0440","\u0428\u0443\u0442\u0435\u0440","\u0412\u043e\u0439\u043d\u0430","\u0413\u043b\u0443\u0431\u043e\u043a\u0438\u0439 \u0441\u044e\u0436\u0435\u0442","\u041f\u0440\u043e\u0442\u0430\u0433\u043e\u043d\u0438\u0441\u0442\u043a\u0430"],J=[{name:"\u0446\u0435\u043d\u0430 \u043c\u0435\u043d\u044c\u0448\u0435",order:"price&order=asc"},{name:"\u0446\u0435\u043d\u0430 \u0431\u043e\u043b\u044c\u0448\u0435",order:"price&order=desc"},{name:"\u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",order:"title"},{name:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",order:"year&order=desc"}],B=function(){var e=(0,n.useState)([]),t=(0,s.Z)(e,2),r=t[0],c=t[1],o=(0,n.useState)(!0),m=(0,s.Z)(o,2),v=m[0],_=m[1],S=(0,n.useState)(!1),p=(0,s.Z)(S,2),j=p[0],x=p[1],N=(0,n.useState)(0),A=(0,s.Z)(N,2),y=A[0],Z=A[1],R=(0,n.useState)(""),V=(0,s.Z)(R,2),k=V[0],B=V[1],O=(0,n.useState)(null),w=(0,s.Z)(O,2),F=w[0],X=w[1],z=(0,n.useState)(!1),P=(0,s.Z)(z,2),q=P[0],D=P[1],G=(0,n.useState)(0),K=(0,s.Z)(G,2),M=K[0],Q=K[1],$=(0,n.useState)(0),ee=(0,s.Z)($,2),te=ee[0],re=ee[1],ae=(0,n.useState)(""),se=(0,s.Z)(ae,2),ne=se[0],ce=se[1],ie=(0,n.useState)(""),oe=(0,s.Z)(ie,2),ue=oe[0],le=oe[1],de=(0,l.s0)(),me=(0,n.useRef)(null),fe=(0,n.useRef)(null),he=(0,W.v9)(Y.g_),ge=(0,W.v9)(Y.iH),ve=n.useRef(!1);n.useEffect((function(){if(ve.current){var e=JSON.stringify(he),t=JSON.stringify(ge);localStorage.setItem("cart",e),localStorage.setItem("cartTotalPrice",t)}ve.current=!0}),[he,ge]),(0,n.useEffect)((function(){var e=function(e){var t=e;me.current&&!t.path.includes(me.current)&&D(!1),fe.current&&!t.path.includes(fe.current)&&x(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]),(0,n.useEffect)((function(){b.Z.get("".concat(ne?"?title=".concat(ne):y?"?search=".concat(F,"&sortBy=").concat(te||"price&order=asc"):"?sortBy=".concat(te||"price&order=asc"))).then((function(e){c(e.data),_(!1)})).catch((function(e){B(e.message)}))}),[y,F,te,ne,de]),(0,n.useEffect)((function(){var e=u().stringify({selectListItem:y,selectCategory:F,selectSort:te,search:ne});de("?".concat(e))}),[y,F,te,ne,de]);var _e=(0,n.useCallback)((function(e){_(!0),Z(e),X(I[e]),B("")}),[]),Se=(0,n.useCallback)((function(e){_(!0),Q(e),re(J[e].order),B("")}),[]),Ce=(0,n.useCallback)(i()((function(e){le(e),ce(e)}),250),[]);return(0,f.jsxs)("div",{className:T,children:[(0,f.jsx)("div",{ref:fe,children:(0,f.jsx)(L,{category:I,selectListItem:y,visibleList:j,setVisibleList:x,onChangeCategory:_e})}),(0,f.jsx)("div",{children:(0,f.jsx)(C,{value:ue,setValue:le,onChangeSerachInput:Ce})}),(0,f.jsx)("div",{ref:me,className:U,onClick:function(){return D(!q)},children:(0,f.jsx)(E,{sortListSelect:M,sortList:J,sortListView:q,onClickSelectSortValue:Se})}),k?(0,f.jsx)(h,{error:k}):"",(0,f.jsx)("div",{className:H,children:v?(0,a.Z)(new Array(6)).map((function(e,t){return(0,f.jsx)(d.Z,{},t)})):r&&r.map((function(e){return(0,f.jsx)(g.Z,{game:e},e.id)}))})]})}},4654:function(){}}]);
//# sourceMappingURL=822.3d8787ad.chunk.js.map